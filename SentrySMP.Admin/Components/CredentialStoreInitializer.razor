@using SentrySMP.Admin.Services
@inject AuthInitializationService AuthInitService
@inject IJSRuntime JSRuntime
@inject ILogger<CredentialStoreInitializer> Logger
@implements IAsyncDisposable

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            Logger.LogInformation("CredentialStoreInitializer: Starting initialization");
            await AuthInitService.InitializeAsync(JSRuntime);
            Logger.LogInformation("CredentialStoreInitializer: Initialization completed");
        }
    }

    public ValueTask DisposeAsync()
    {
        return ValueTask.CompletedTask;
    }
}